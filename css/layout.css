/* ANCHOR Header */
.skip-link { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
.skip-link:focus { left: 1rem; top: 1rem; background: var(--focus); color: #000; padding: 0.5rem 0.75rem; border-radius: 8px; }
.site-header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(255, 255, 255, 0.9);
  border-bottom: 1px solid rgba(228, 231, 236, 0.8);
  backdrop-filter: blur(12px);
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.08);
}
.header-inner { display: flex; align-items: center; justify-content: space-between; min-height: var(--header-height); padding-inline: 1rem; }
.brand { display: inline-flex; align-items: center; gap: 0.75rem; text-decoration: none; color: inherit; font-weight: 700; }
.brand-mark { inline-size: 42px; block-size: 42px; border-radius: 14px; background: linear-gradient(135deg, #2563eb, #7c3aed); box-shadow: inset 0 1px 4px rgba(255, 255, 255, 0.35); }
.brand-name { font-size: 1.1rem; letter-spacing: -0.01em; }
/* /ANCHOR Header */

/* ANCHOR Sidebar Mobile First */
.site-sidebar {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: min(85vw, var(--sidebar-width));
  background: var(--panel);
  border-left: 1px solid var(--border);
  transform: translateX(100%);
  transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 100;
  overflow-y: auto;
  box-shadow: var(--shadow-soft);
}
.site-sidebar.open { transform: translateX(0); }

.sidebar-nav { padding: 2rem 1.5rem 3rem; }
.sidebar-nav ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}
.sidebar-nav a {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.85rem 1rem;
  border-radius: var(--radius-sm);
  text-decoration: none;
  color: var(--ink);
  font-weight: 500;
  transition: background 0.2s ease, color 0.2s ease;
}
.sidebar-nav a::after {
  content: "";
  inline-size: 8px;
  block-size: 8px;
  border-radius: 999px;
  background: transparent;
}
.sidebar-nav a:hover {
  background: var(--brand-soft);
  color: var(--brand);
}
.sidebar-nav a[aria-current="page"] {
  background: #e0ecff;
  color: var(--brand);
  font-weight: 600;
}
.sidebar-nav a[aria-current="page"]::after { background: currentColor; }
/* /ANCHOR Sidebar Mobile First */

/* ANCHOR Sidebar Backdrop */
.sidebar-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.45);
  z-index: 99;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.sidebar-backdrop.active {
  opacity: 1;
  pointer-events: auto;
}
/* /ANCHOR Sidebar Backdrop */

/* ANCHOR Page Body */
.app-shell { flex: 1; display: flex; flex-direction: column; width: 100%; }
.page-body { flex: 1; width: 100%; padding-block: 2rem; }
main { flex: 1; padding-block: 2.5rem; }
.section { padding-block: 2rem; }
.section + .section { padding-top: 0; }
/* /ANCHOR Page Body */

/* ANCHOR Desktop Layout */
@media (min-width: 1000px) {
  :root { --sidebar-mode: desktop; }

  .page-body {
    display: flex;
    align-items: flex-start;
    gap: 2rem;
    max-width: var(--container);
    margin-inline: auto;
    padding-inline: 1rem;
  }

  .site-sidebar {
    position: sticky;
    top: calc(var(--header-height) + 1.5rem);
    align-self: flex-start;
    width: 260px;
    min-width: 260px;
    max-height: calc(100vh - var(--header-height) - 3rem);
    transform: none;
    border-right: 1px solid var(--border);
    border-left: none;
    box-shadow: none;
    z-index: 1;
    overflow-y: auto;
    padding-block: 1.5rem;
    border-radius: var(--radius);
    background: var(--panel);
  }

  .sidebar-nav {
    position: static;
    padding: 0 1rem 1.5rem;
  }

  main { min-width: 0; padding-block: 3rem; }

  #navToggle { display: none; }
  .sidebar-backdrop { display: none; }
}
/* /ANCHOR Desktop Layout */
